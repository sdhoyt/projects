{
  "hash": "dd7c108f67f32b89985199097e02d7c8",
  "result": {
    "markdown": "---\ntitle: \"Inferring COVID-19 Case Rates from State Voting Trends\"\ndescription: \"Construct a linear regression model to make inferences about COVID-19 case and death counts from state voting trends.\"\nauthor: \"Sean Hoyt\"\ndate: \"5/5/2022\"\ncategories: [R, analysis, regression]\nformat:\n  html:\n    toc: true\n---\n\n\n[Data and Code are available here](https://github.com/sdhoyt/voting-trends-covid-analysis)\n\n\n\n\n\n# Introduction\n\nState policy responses to the COVID-19 pandemic appear to vary largely by political party. Republican states tended to take a more \"hands off\", anti-social distancing and anti-masking mandate approach and Democratic states tended to issue social distancing and masking mandates to increase compliance with suggested CDC guidelines. The politicization appeared to be strong enough on both a state and individual level, that one could expect that the more solidly Republican a state votes, the more COVID-19 cases and deaths per capita would occur in the state. We can test this hypothesis by performing linear regression to look for a positive trend in the percentage of votes won by Donald Trump in the 2016 election and the number of COVID-19 cases and deaths per 100,000 people in each state.\n\n# Data Used in Analysis\n\nThe data used in this analysis from the sources below was cleaned in preparation for this analysis. The script used for cleaning can be found [here](https://github.com/sdhoyt/voting-trends-covid-analysis/blob/main/source/clean-covid-cases-voting.R).\n\n### Election Results\n\nThe election data was obtained from the [Harvard Dataverse and the MIT Election Lab](https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/42MVDX). This data contains U.S Presidential Election results from 1976 - 2020.\n\n### COVID-19 Case and Death Counts\n\nThe COVID-19 case and death count data was obtained from the [CDC's data repository](https://data.cdc.gov/Case-Surveillance/United-States-COVID-19-Cases-and-Deaths-by-State-o/9mfq-cb36). This data contains cumulative case counts and death counts for each state over time. The data used in this analysis includes case counts from January 2020 to April 2022.\n\n### Population\n\nThe population data used to compute the per capita case and death counts was obtained from the [US Census 2021 Estimates](https://www.census.gov/newsroom/press-kits/2021/2021-national-state-population-estimates.html). This data contains national and state population estimates for the year 2021.\n\n### 2020 Electoral Map\n\nThe 2020 Electoral Map data was manually created based on the official results page at [ABC](https://abcnews.go.com/Elections/2020-us-presidential-election-results-live-map).\n\n# Analysis\n\n### Setup\n\nLoad the necessary libraries and import the data. The data was previously cleaned and saved in preparation for this analysis.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# import libraries\nlibrary(\"tidyverse\")\nlibrary(\"scales\")\nlibrary(\"ggpubr\")\nlibrary(\"tidymodels\")\nlibrary(\"knitr\")\nlibrary(\"broom\")\nlibrary(\"lubridate\")\n\n#set ggplot theme\ntheme_set(theme_light())\n\n# read in cleaned data\ncovid_election_processed <- readRDS(\"data/covid_and_election.rds\")\n```\n:::\n\n\nThe data has cases stored on a per capita basis and should be converted to \"cases per 100,000 people\". This conversion will allow for an easier interpretation of the linear model results.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncovid_election_processed <- covid_election_processed |> \n  mutate(cases_per_100k = cases_per_cap * 100000, deaths_per_100k = deaths_per_cap * 100000)\n```\n:::\n\n\n### Counting State COVID-19 Cases\n\nBased on the below visualization, there appears to be some trend between the political party favored by each state in 2016 and the monthly average number of COVID-19 cases per 100k. States that voted Republican in 2016 seem to have a higher number of cases per 100k compared to states that voted Democrat.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=120% height=120%}\n:::\n:::\n\n\nThere appears to be a similar trend in the case of average monthly deaths as well.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=120% height=120%}\n:::\n:::\n\n\n### Voting Trends Effect on COVID-19 infection\n\nTo gain a more precise understanding of this possible trend, we can construct and fit the data to a linear regression model. Using the linear model, we can determine if there is a statistically significant trend between voting trends and COVID-19 infection for both case numbers and deaths.\n\nA visualization of the case data shows there does appear to be a positive trend between votes for Donald Trump and COVID-19 cases per 100,000 people.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\nA similar trend is also found between voting trends and average monthly deaths from COVID-19. Constructing linear models and examining the coefficients and $R^2$ value will provide more context.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# fit the linear regression model\nlm_mod_cases <- linear_reg() |> \n  fit(cases_per_100k ~ pct_trump_2016, data=covid_election_processed)\n\n# create the table with coefficient, confidence interval, and p-value\ncoef_cases <- tidy(lm_mod_cases, conf.int = TRUE, conf.level = 0.95) |> \n  filter(term == \"pct_trump_2016\") |> \n  # scale to look at .01 (1%) instead of 1 (100%)\n  mutate(estimate_scaled = estimate * .01, conf_low_scaled = conf.low * .01, conf_high_scaled = conf.high * .01) |> \n  select(term, estimate_scaled, conf_low_scaled, conf_high_scaled, p.value)\n```\n:::\n\n\nThe correlation in the data is moderate and the model does not explain the majority of the variance in the data with an $R^2$ value of 0.3036436. However, the linear regression model shows a statistically significant trend between the percentage of votes for Donald Trump in the 2016 election and the COVID-19 cases per 100k. We can infer that, on average, for each percentage point worth more of voters in favor of Donald Trump a state has, they can expect to have 6.9510028 $\\pm$ 3.0219507 more average monthly COIVD-19 cases per 100,000 people.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkable(coef_cases, col.names= c(\"Coefficient\", \"Estimate\", \"Conf Low\", \"Conf High\", \"P-Value\"))\n```\n\n::: {.cell-output-display}\n|Coefficient    | Estimate| Conf Low| Conf High|  P-Value|\n|:--------------|--------:|--------:|---------:|--------:|\n|pct_trump_2016 | 6.951003| 3.929052|  9.972953| 2.79e-05|\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# fit the linear regression model\nlm_mod_deaths <- linear_reg() |> \n  fit(deaths_per_100k ~ pct_trump_2016, data=covid_election_processed)\n\n# create the table with coefficient, confidence interval, and p-value\ncoef_death <- tidy(lm_mod_deaths, conf.int = TRUE, conf.level = 0.95) |> \n  filter(term == \"pct_trump_2016\") |> \n  # scale to look at .01 (1%) instead of 1 (100%)\n  mutate(estimate_scaled = estimate * .01, conf_low_scaled = conf.low * .01, conf_high_scaled = conf.high * .01) |> \n  select(term, estimate_scaled, conf_low_scaled, conf_high_scaled, p.value)\n```\n:::\n\n\nThe $R^2$ (0.2874163) for deaths is similar to cases and the linear regression model also shows a statistically significant trend between the percentage of votes for Donald Trump in the 2016 election and the COVID-19 deaths per 100k. Here we can also infer that, on average, for each percentage point worth more of voters in favor of Donald Trump a state has, they can expect to have 0.1339862 $\\pm$ 0.060566 more average monthly COIVD-19 deaths per 100,000 people.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkable(coef_death, col.names= c(\"Coefficient\", \"Estimate\", \"Conf Low\", \"Conf High\", \"P-Value\"))\n```\n\n::: {.cell-output-display}\n|Coefficient    |  Estimate|  Conf Low| Conf High|  P-Value|\n|:--------------|---------:|---------:|---------:|--------:|\n|pct_trump_2016 | 0.1339862| 0.0734203| 0.1945522| 5.02e-05|\n:::\n:::\n\n\n# Summary\n\nA linear regression model was fit to use the percentage of votes for Donald Trump in the 2016 presidential election to explain the average monthly COVID-19 cases and deaths per 100,000 people in each state. From this model, there appears to be a statistically significant positive correlation for both and one can expect that for each percentage point worth more of voters in favor of Donald Trump a state has, there will be, on average, 6.9510028 $\\pm$ 3.0219507 more average monthly COIVD-19 cases per 100,000 people and 0.1339862 $\\pm$ 0.060566 more average monthly COIVD-19 deaths per 100,000 people. Although there is large percentage of variance unexplained by these models, they do illustrate how diverging political opinions on the severity of the pandemic and usage of masks have impacted infections rates.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": null
  }
}